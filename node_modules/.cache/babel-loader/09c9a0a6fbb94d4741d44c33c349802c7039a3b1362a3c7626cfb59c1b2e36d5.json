{"ast":null,"code":"var _jsxFileName = \"/Users/gowrisankara/Desktop/DL-PRO/FaceReg/client2/src/components/CameraCapture.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from 'react';\nimport Webcam from 'react-webcam';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CameraCapture = ({\n  type,\n  setType\n}) => {\n  _s();\n  const webcamRef = useRef(null);\n  const [image, setImage] = useState(null);\n  const [name, setName] = useState('');\n  const [authResult, setAuthResult] = useState(null);\n  const [detectionProbability, setDetectionProbability] = useState(0.0);\n  const url = \"http://localhost:5001\";\n  const capture = React.useCallback(() => {\n    const imageSrc = webcamRef.current.getScreenshot();\n    setImage(imageSrc);\n    setDetectionProbability(0);\n  }, [webcamRef]);\n  const handleRegister = async () => {\n    if (!image || !name) {\n      alert('Please capture an image and provide a name.');\n      return;\n    }\n    const formData = new FormData();\n    formData.append('file', dataURLtoFile(image, 'captured-image.jpg'));\n    formData.append('name', name);\n    try {\n      await axios.post(url + '/register_face', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      alert('Face registered successfully!');\n      setType(\"\");\n    } catch (error) {\n      console.error('Error uploading image:', error);\n      alert('Error registering face.');\n    }\n  };\n  const handleAuthenticate = async () => {\n    if (!image) {\n      alert('Please capture an image.');\n      return;\n    }\n    const formData = new FormData();\n    formData.append('file', dataURLtoFile(image, 'captured-image.jpg'));\n    try {\n      const response = await axios.post(url + '/authenticate_face', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      if (response.status == 200) {\n        setAuthResult(response.data);\n      } else {\n        var _response$data;\n        const errorMessage = ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.error) || 'An error occurred while authenticating the face.';\n        alert(errorMessage);\n      }\n    } catch (error) {\n      if (error.response) {\n        var _error$response$data;\n        const errorMessage = ((_error$response$data = error.response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'An error occurred while authenticating the face.';\n        alert(errorMessage);\n      } else if (error.request) {\n        alert('No response received from the server.');\n      } else {\n        alert('Error in the request setup.');\n      }\n    }\n  };\n  const checkFaceDetection = async () => {\n    const imageSrc = webcamRef.current.getScreenshot();\n    if (imageSrc) {\n      const formData = new FormData();\n      formData.append('file', dataURLtoFile(imageSrc, 'live-image.jpg'));\n      try {\n        const response = await axios.post(url + '/check_face_detection', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        setDetectionProbability(response.data.probability);\n      } catch (error) {\n        setDetectionProbability(0);\n      }\n    }\n  };\n  useEffect(() => {\n    let interval;\n    if ((type === 'Auth' || type === \"Register\") && !image) {\n      interval = setInterval(checkFaceDetection, 1000);\n    } else {\n      clearInterval(interval);\n    }\n    return () => clearInterval(interval);\n  }, [type, image]);\n  const dataURLtoFile = (dataURL, filename) => {\n    const [header, data] = dataURL.split(',');\n    const mime = header.match(/:(.*?);/)[1];\n    const binary = atob(data);\n    const array = [];\n    for (let i = 0; i < binary.length; i++) {\n      array.push(binary.charCodeAt(i));\n    }\n    return new File([new Uint8Array(array)], filename, {\n      type: mime\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [!image && /*#__PURE__*/_jsxDEV(Webcam, {\n      audio: false,\n      ref: webcamRef,\n      screenshotFormat: \"image/jpeg\",\n      width: 360,\n      height: 360,\n      style: {\n        padding: '24px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 18\n    }, this), !image && !authResult && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: \"0 24px 24px 24px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: \"Face Detection Quality:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          textAlign: \"center\",\n          color: detectionProbability === 0 ? \"red\" : detectionProbability * 100 > 95 ? \"green\" : \"orange\"\n        },\n        children: detectionProbability === 0 ? \"No face detected\" : detectionProbability * 100 > 95 ? \"Excellent\" : \"Better image needed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 33\n    }, this), !image && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: detectionProbability * 100 > 95 ? capture : () => {},\n      style: {\n        border: \"1px solid transparent\",\n        color: \"white\",\n        background: detectionProbability * 100 > 95 ? \"green\" : \"grey\",\n        padding: \"16px 32px\",\n        width: \"100%\",\n        fontSize: \"24px\"\n      },\n      children: detectionProbability * 100 > 95 ? \"Capture\" : \"Make face visible\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 18\n    }, this), image && !authResult && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          textAlign: \"center\",\n          padding: \"24px 0 0 0\"\n        },\n        children: \"Captured image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: image,\n        alt: \"Captured\",\n        style: {\n          padding: '24px 0 '\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }, this), type === 'Auth' && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          gap: \"24px\",\n          alignItems: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAuthenticate,\n          style: {\n            border: \"1px solid transparent\",\n            color: \"white\",\n            background: \"green\",\n            padding: \"16px 32px\",\n            width: \"80%\",\n            fontSize: \"24px\"\n          },\n          children: \"Authenticate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setImage(null);\n            setAuthResult(null);\n          },\n          style: {\n            border: \"1px solid green\",\n            color: \"green\",\n            background: \"white\",\n            padding: \"16px 32px\",\n            width: \"80%\",\n            fontSize: \"24px\"\n          },\n          children: \"Retake\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }, this), type === 'Register' && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: \"12px\",\n          minWidth: \"96px\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Enter name\",\n          value: name,\n          onChange: e => setName(e.target.value),\n          style: {\n            background: \"white\",\n            border: \"1px solid grey\",\n            padding: \"8px 24px\",\n            borderRadius: \"4px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleRegister,\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true), authResult && type === 'Auth' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          gap: \"96px\",\n          padding: \"24px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              color: \"black\",\n              fontWeight: \"500\"\n            },\n            children: \"Your name is \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              color: \"green\",\n              marginTop: \"0\"\n            },\n            children: [authResult.name, \" ?\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setType(\"\"),\n          style: {\n            border: \"1px solid green\",\n            color: \"green\",\n            background: \"white\",\n            padding: \"16px 32px\",\n            width: \"80%\",\n            fontSize: \"24px\"\n          },\n          children: \"Go to Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this)\n    }, void 0, false), type === 'Register' && !image && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setType(\"\"),\n      style: {\n        border: \"1px solid transparent\",\n        color: \"white\",\n        background: \"green\",\n        padding: \"16px 32px\",\n        width: \"80%\",\n        fontSize: \"24px\"\n      },\n      children: \"Go to Home buddy\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n};\n_s(CameraCapture, \"VFveHbMxk/7DzjNCAAG+skiC9Eo=\");\n_c = CameraCapture;\nexport default CameraCapture;\nvar _c;\n$RefreshReg$(_c, \"CameraCapture\");","map":{"version":3,"names":["React","useRef","useState","useEffect","Webcam","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","CameraCapture","type","setType","_s","webcamRef","image","setImage","name","setName","authResult","setAuthResult","detectionProbability","setDetectionProbability","url","capture","useCallback","imageSrc","current","getScreenshot","handleRegister","alert","formData","FormData","append","dataURLtoFile","post","headers","error","console","handleAuthenticate","response","status","data","_response$data","errorMessage","_error$response$data","message","request","checkFaceDetection","probability","interval","setInterval","clearInterval","dataURL","filename","header","split","mime","match","binary","atob","array","i","length","push","charCodeAt","File","Uint8Array","children","audio","ref","screenshotFormat","width","height","style","padding","fileName","_jsxFileName","lineNumber","columnNumber","textAlign","color","onClick","border","background","fontSize","src","alt","display","flexDirection","gap","alignItems","minWidth","placeholder","value","onChange","e","target","borderRadius","fontWeight","marginTop","_c","$RefreshReg$"],"sources":["/Users/gowrisankara/Desktop/DL-PRO/FaceReg/client2/src/components/CameraCapture.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\nimport Webcam from 'react-webcam';\nimport axios from 'axios';\n\nconst CameraCapture = ({ type, setType }) => {\n  const webcamRef = useRef(null);\n  const [image, setImage] = useState(null);\n  const [name, setName] = useState('');\n  const [authResult, setAuthResult] = useState(null);\n  const [detectionProbability, setDetectionProbability] = useState(0.0);\n  const url= \"http://localhost:5001\";\n\n  const capture = React.useCallback(() => {\n    const imageSrc = webcamRef.current.getScreenshot();\n    setImage(imageSrc);\n    setDetectionProbability(0);\n  }, [webcamRef]);\n\n  const handleRegister = async () => {\n    if (!image || !name) {\n      alert('Please capture an image and provide a name.');\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append('file', dataURLtoFile(image, 'captured-image.jpg'));\n    formData.append('name', name);\n\n    try {\n      await axios.post(url+'/register_face', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      alert('Face registered successfully!');\n      setType(\"\");\n    } catch (error) {\n      console.error('Error uploading image:', error);\n      alert('Error registering face.');\n    }\n  };\n\n  const handleAuthenticate = async () => {\n    if (!image) {\n      alert('Please capture an image.');\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append('file', dataURLtoFile(image, 'captured-image.jpg'));\n\n    try {\n      const response = await axios.post(url + '/authenticate_face', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      \n      if (response.status == 200 ) {\n        setAuthResult(response.data);\n      } else {\n        const errorMessage = response.data?.error || 'An error occurred while authenticating the face.';\n        alert(errorMessage);\n      }\n    } catch (error) {\n      if (error.response) {\n        const errorMessage = error.response.data?.message || 'An error occurred while authenticating the face.';\n        alert(errorMessage);\n      } else if (error.request) {\n        alert('No response received from the server.');\n      } else {\n        alert('Error in the request setup.');\n      }\n    }\n    \n  };\n\n  const checkFaceDetection = async () => {\n    const imageSrc = webcamRef.current.getScreenshot();\n    if (imageSrc) {\n      const formData = new FormData();\n      formData.append('file', dataURLtoFile(imageSrc, 'live-image.jpg'));\n      \n      try {\n        const response = await axios.post(url+'/check_face_detection', formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        setDetectionProbability(response.data.probability);\n      } catch (error) {\n        setDetectionProbability(0);\n      }\n    }\n  };\n\n  useEffect(() => {\n    let interval;\n    if ((type === 'Auth' || type===\"Register\")&& !image) {\n      interval = setInterval(checkFaceDetection, 1000);\n    } else {\n      clearInterval(interval);\n    }\n\n    return () => clearInterval(interval);\n  }, [type, image]);\n\n  const dataURLtoFile = (dataURL, filename) => {\n    const [header, data] = dataURL.split(',');\n    const mime = header.match(/:(.*?);/)[1];\n    const binary = atob(data);\n    const array = [];\n    for (let i = 0; i < binary.length; i++) {\n      array.push(binary.charCodeAt(i));\n    }\n    return new File([new Uint8Array(array)], filename, { type: mime });\n  };\n\n  return (\n    <div>\n      {!image && <Webcam\n        audio={false}\n        ref={webcamRef}\n        screenshotFormat=\"image/jpeg\"\n        width={360} \n        height={360} \n        style={{ padding: '24px' }}\n      />}\n      {!image && !authResult && <div style={{padding:\"0 24px 24px 24px\"}}>\n                <h2 style={{textAlign:\"center\"}}>Face Detection Quality:</h2>\n                <h2 style={{textAlign:\"center\", color:detectionProbability === 0 ? \"red\" :detectionProbability*100 > 95 ? \"green\": \"orange\"}}>{detectionProbability === 0 ? \"No face detected\" :detectionProbability*100 > 95 ? \"Excellent\": \"Better image needed\"}</h2>\n                </div>}\n      {!image && <button onClick={detectionProbability*100 > 95 ? capture : ()=>{}} style={{border:\"1px solid transparent\", color:\"white\", background: detectionProbability*100 > 95 ? \"green\": \"grey\", padding:\"16px 32px\", width:\"100%\", fontSize:\"24px\"}}>{detectionProbability*100 > 95 ? \"Capture\" : \"Make face visible\"}</button>}\n\n      {image && !authResult &&  (\n        <> <h3 style={{textAlign:\"center\", padding:\"24px 0 0 0\"}}>Captured image</h3>\n          <img src={image} alt=\"Captured\" style={{ padding: '24px 0 ' }} />\n          {type === 'Auth' && (\n            <div style={{display:\"flex\", flexDirection:\"column\", gap:\"24px\", alignItems:\"center\"}}>\n              <button onClick={handleAuthenticate} style={{border:\"1px solid transparent\", color:\"white\", background:\"green\", padding:\"16px 32px\", width:\"80%\", fontSize:\"24px\"}}>Authenticate</button>\n              <button onClick={() =>{ setImage(null); setAuthResult(null)}}  style={{border:\"1px solid green\", color:\"green\", background:\"white\", padding:\"16px 32px\", width:\"80%\", fontSize:\"24px\"}}>Retake</button>\n            </div>\n          )}\n\n          {type === 'Register' && (\n            <div style={{padding:\"12px\",minWidth:\"96px\", display:\"flex\", flexDirection:\"column\", alignItems:\"center\"}}>\n              <input\n                type=\"text\"\n                placeholder=\"Enter name\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                style={{background:\"white\",border:\"1px solid grey\", padding:\"8px 24px\", borderRadius:\"4px\"}}\n              />\n              <button onClick={handleRegister}>Register</button>\n            </div>\n          )}\n        </>\n      )}\n\n      {authResult && type === 'Auth' && (\n        <>\n          <div style={{display:\"flex\", flexDirection:\"column\", alignItems:\"center\",gap:\"96px\", padding:\"24px\"}}>\n            <div style={{display:\"flex\", flexDirection:\"column\", alignItems:\"center\"}}>\n              <h2 style={{color:\"black\", fontWeight:\"500\"}}>Your name is </h2>\n              <h2 style={{color:\"green\", marginTop:\"0\"}}>{authResult.name} ?</h2>\n            </div>\n          <button onClick={() => setType(\"\")} style={{border:\"1px solid green\", color:\"green\", background:\"white\", padding:\"16px 32px\", width:\"80%\", fontSize:\"24px\"}}>Go to Home</button>\n          </div>\n        </>\n      )}\n\n      {type === 'Register' && !image && (\n        <button onClick={() => setType(\"\")} style={{border:\"1px solid transparent\", color:\"white\", background:\"green\", padding:\"16px 32px\", width:\"80%\", fontSize:\"24px\"}}>Go to Home buddy</button>\n      )}\n    </div>\n  );\n};\n\nexport default CameraCapture;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC1D,OAAOC,MAAM,MAAM,cAAc;AACjC,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE1B,MAAMC,aAAa,GAAGA,CAAC;EAAEC,IAAI;EAAEC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EAC3C,MAAMC,SAAS,GAAGb,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAM,CAACc,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACe,IAAI,EAAEC,OAAO,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACiB,UAAU,EAAEC,aAAa,CAAC,GAAGlB,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAACmB,oBAAoB,EAAEC,uBAAuB,CAAC,GAAGpB,QAAQ,CAAC,GAAG,CAAC;EACrE,MAAMqB,GAAG,GAAE,uBAAuB;EAElC,MAAMC,OAAO,GAAGxB,KAAK,CAACyB,WAAW,CAAC,MAAM;IACtC,MAAMC,QAAQ,GAAGZ,SAAS,CAACa,OAAO,CAACC,aAAa,CAAC,CAAC;IAClDZ,QAAQ,CAACU,QAAQ,CAAC;IAClBJ,uBAAuB,CAAC,CAAC,CAAC;EAC5B,CAAC,EAAE,CAACR,SAAS,CAAC,CAAC;EAEf,MAAMe,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI,CAACd,KAAK,IAAI,CAACE,IAAI,EAAE;MACnBa,KAAK,CAAC,6CAA6C,CAAC;MACpD;IACF;IAEA,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEC,aAAa,CAACnB,KAAK,EAAE,oBAAoB,CAAC,CAAC;IACnEgB,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEhB,IAAI,CAAC;IAE7B,IAAI;MACF,MAAMZ,KAAK,CAAC8B,IAAI,CAACZ,GAAG,GAAC,gBAAgB,EAAEQ,QAAQ,EAAE;QAC/CK,OAAO,EAAE;UACP,cAAc,EAAE;QAClB;MACF,CAAC,CAAC;MACFN,KAAK,CAAC,+BAA+B,CAAC;MACtClB,OAAO,CAAC,EAAE,CAAC;IACb,CAAC,CAAC,OAAOyB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9CP,KAAK,CAAC,yBAAyB,CAAC;IAClC;EACF,CAAC;EAED,MAAMS,kBAAkB,GAAG,MAAAA,CAAA,KAAY;IACrC,IAAI,CAACxB,KAAK,EAAE;MACVe,KAAK,CAAC,0BAA0B,CAAC;MACjC;IACF;IAEA,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEC,aAAa,CAACnB,KAAK,EAAE,oBAAoB,CAAC,CAAC;IAEnE,IAAI;MACF,MAAMyB,QAAQ,GAAG,MAAMnC,KAAK,CAAC8B,IAAI,CAACZ,GAAG,GAAG,oBAAoB,EAAEQ,QAAQ,EAAE;QACtEK,OAAO,EAAE;UACP,cAAc,EAAE;QAClB;MACF,CAAC,CAAC;MAEF,IAAII,QAAQ,CAACC,MAAM,IAAI,GAAG,EAAG;QAC3BrB,aAAa,CAACoB,QAAQ,CAACE,IAAI,CAAC;MAC9B,CAAC,MAAM;QAAA,IAAAC,cAAA;QACL,MAAMC,YAAY,GAAG,EAAAD,cAAA,GAAAH,QAAQ,CAACE,IAAI,cAAAC,cAAA,uBAAbA,cAAA,CAAeN,KAAK,KAAI,kDAAkD;QAC/FP,KAAK,CAACc,YAAY,CAAC;MACrB;IACF,CAAC,CAAC,OAAOP,KAAK,EAAE;MACd,IAAIA,KAAK,CAACG,QAAQ,EAAE;QAAA,IAAAK,oBAAA;QAClB,MAAMD,YAAY,GAAG,EAAAC,oBAAA,GAAAR,KAAK,CAACG,QAAQ,CAACE,IAAI,cAAAG,oBAAA,uBAAnBA,oBAAA,CAAqBC,OAAO,KAAI,kDAAkD;QACvGhB,KAAK,CAACc,YAAY,CAAC;MACrB,CAAC,MAAM,IAAIP,KAAK,CAACU,OAAO,EAAE;QACxBjB,KAAK,CAAC,uCAAuC,CAAC;MAChD,CAAC,MAAM;QACLA,KAAK,CAAC,6BAA6B,CAAC;MACtC;IACF;EAEF,CAAC;EAED,MAAMkB,kBAAkB,GAAG,MAAAA,CAAA,KAAY;IACrC,MAAMtB,QAAQ,GAAGZ,SAAS,CAACa,OAAO,CAACC,aAAa,CAAC,CAAC;IAClD,IAAIF,QAAQ,EAAE;MACZ,MAAMK,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEC,aAAa,CAACR,QAAQ,EAAE,gBAAgB,CAAC,CAAC;MAElE,IAAI;QACF,MAAMc,QAAQ,GAAG,MAAMnC,KAAK,CAAC8B,IAAI,CAACZ,GAAG,GAAC,uBAAuB,EAAEQ,QAAQ,EAAE;UACvEK,OAAO,EAAE;YACP,cAAc,EAAE;UAClB;QACF,CAAC,CAAC;QACFd,uBAAuB,CAACkB,QAAQ,CAACE,IAAI,CAACO,WAAW,CAAC;MACpD,CAAC,CAAC,OAAOZ,KAAK,EAAE;QACdf,uBAAuB,CAAC,CAAC,CAAC;MAC5B;IACF;EACF,CAAC;EAEDnB,SAAS,CAAC,MAAM;IACd,IAAI+C,QAAQ;IACZ,IAAI,CAACvC,IAAI,KAAK,MAAM,IAAIA,IAAI,KAAG,UAAU,KAAI,CAACI,KAAK,EAAE;MACnDmC,QAAQ,GAAGC,WAAW,CAACH,kBAAkB,EAAE,IAAI,CAAC;IAClD,CAAC,MAAM;MACLI,aAAa,CAACF,QAAQ,CAAC;IACzB;IAEA,OAAO,MAAME,aAAa,CAACF,QAAQ,CAAC;EACtC,CAAC,EAAE,CAACvC,IAAI,EAAEI,KAAK,CAAC,CAAC;EAEjB,MAAMmB,aAAa,GAAGA,CAACmB,OAAO,EAAEC,QAAQ,KAAK;IAC3C,MAAM,CAACC,MAAM,EAAEb,IAAI,CAAC,GAAGW,OAAO,CAACG,KAAK,CAAC,GAAG,CAAC;IACzC,MAAMC,IAAI,GAAGF,MAAM,CAACG,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;IACvC,MAAMC,MAAM,GAAGC,IAAI,CAAClB,IAAI,CAAC;IACzB,MAAMmB,KAAK,GAAG,EAAE;IAChB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,MAAM,CAACI,MAAM,EAAED,CAAC,EAAE,EAAE;MACtCD,KAAK,CAACG,IAAI,CAACL,MAAM,CAACM,UAAU,CAACH,CAAC,CAAC,CAAC;IAClC;IACA,OAAO,IAAII,IAAI,CAAC,CAAC,IAAIC,UAAU,CAACN,KAAK,CAAC,CAAC,EAAEP,QAAQ,EAAE;MAAE3C,IAAI,EAAE8C;IAAK,CAAC,CAAC;EACpE,CAAC;EAED,oBACElD,OAAA;IAAA6D,QAAA,GACG,CAACrD,KAAK,iBAAIR,OAAA,CAACH,MAAM;MAChBiE,KAAK,EAAE,KAAM;MACbC,GAAG,EAAExD,SAAU;MACfyD,gBAAgB,EAAC,YAAY;MAC7BC,KAAK,EAAE,GAAI;MACXC,MAAM,EAAE,GAAI;MACZC,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAO;IAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5B,CAAC,EACD,CAAChE,KAAK,IAAI,CAACI,UAAU,iBAAIZ,OAAA;MAAKmE,KAAK,EAAE;QAACC,OAAO,EAAC;MAAkB,CAAE;MAAAP,QAAA,gBACzD7D,OAAA;QAAImE,KAAK,EAAE;UAACM,SAAS,EAAC;QAAQ,CAAE;QAAAZ,QAAA,EAAC;MAAuB;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC7DxE,OAAA;QAAImE,KAAK,EAAE;UAACM,SAAS,EAAC,QAAQ;UAAEC,KAAK,EAAC5D,oBAAoB,KAAK,CAAC,GAAG,KAAK,GAAEA,oBAAoB,GAAC,GAAG,GAAG,EAAE,GAAG,OAAO,GAAE;QAAQ,CAAE;QAAA+C,QAAA,EAAE/C,oBAAoB,KAAK,CAAC,GAAG,kBAAkB,GAAEA,oBAAoB,GAAC,GAAG,GAAG,EAAE,GAAG,WAAW,GAAE;MAAqB;QAAAuD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnP,CAAC,EACf,CAAChE,KAAK,iBAAIR,OAAA;MAAQ2E,OAAO,EAAE7D,oBAAoB,GAAC,GAAG,GAAG,EAAE,GAAGG,OAAO,GAAG,MAAI,CAAC,CAAE;MAACkD,KAAK,EAAE;QAACS,MAAM,EAAC,uBAAuB;QAAEF,KAAK,EAAC,OAAO;QAAEG,UAAU,EAAE/D,oBAAoB,GAAC,GAAG,GAAG,EAAE,GAAG,OAAO,GAAE,MAAM;QAAEsD,OAAO,EAAC,WAAW;QAAEH,KAAK,EAAC,MAAM;QAAEa,QAAQ,EAAC;MAAM,CAAE;MAAAjB,QAAA,EAAE/C,oBAAoB,GAAC,GAAG,GAAG,EAAE,GAAG,SAAS,GAAG;IAAmB;MAAAuD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAS,CAAC,EAEhUhE,KAAK,IAAI,CAACI,UAAU,iBACnBZ,OAAA,CAAAE,SAAA;MAAA2D,QAAA,GAAE,GAAC,eAAA7D,OAAA;QAAImE,KAAK,EAAE;UAACM,SAAS,EAAC,QAAQ;UAAEL,OAAO,EAAC;QAAY,CAAE;QAAAP,QAAA,EAAC;MAAc;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC3ExE,OAAA;QAAK+E,GAAG,EAAEvE,KAAM;QAACwE,GAAG,EAAC,UAAU;QAACb,KAAK,EAAE;UAAEC,OAAO,EAAE;QAAU;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EAChEpE,IAAI,KAAK,MAAM,iBACdJ,OAAA;QAAKmE,KAAK,EAAE;UAACc,OAAO,EAAC,MAAM;UAAEC,aAAa,EAAC,QAAQ;UAAEC,GAAG,EAAC,MAAM;UAAEC,UAAU,EAAC;QAAQ,CAAE;QAAAvB,QAAA,gBACpF7D,OAAA;UAAQ2E,OAAO,EAAE3C,kBAAmB;UAACmC,KAAK,EAAE;YAACS,MAAM,EAAC,uBAAuB;YAAEF,KAAK,EAAC,OAAO;YAAEG,UAAU,EAAC,OAAO;YAAET,OAAO,EAAC,WAAW;YAAEH,KAAK,EAAC,KAAK;YAAEa,QAAQ,EAAC;UAAM,CAAE;UAAAjB,QAAA,EAAC;QAAY;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACzLxE,OAAA;UAAQ2E,OAAO,EAAEA,CAAA,KAAK;YAAElE,QAAQ,CAAC,IAAI,CAAC;YAAEI,aAAa,CAAC,IAAI,CAAC;UAAA,CAAE;UAAEsD,KAAK,EAAE;YAACS,MAAM,EAAC,iBAAiB;YAAEF,KAAK,EAAC,OAAO;YAAEG,UAAU,EAAC,OAAO;YAAET,OAAO,EAAC,WAAW;YAAEH,KAAK,EAAC,KAAK;YAAEa,QAAQ,EAAC;UAAM,CAAE;UAAAjB,QAAA,EAAC;QAAM;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpM,CACN,EAEApE,IAAI,KAAK,UAAU,iBAClBJ,OAAA;QAAKmE,KAAK,EAAE;UAACC,OAAO,EAAC,MAAM;UAACiB,QAAQ,EAAC,MAAM;UAAEJ,OAAO,EAAC,MAAM;UAAEC,aAAa,EAAC,QAAQ;UAAEE,UAAU,EAAC;QAAQ,CAAE;QAAAvB,QAAA,gBACxG7D,OAAA;UACEI,IAAI,EAAC,MAAM;UACXkF,WAAW,EAAC,YAAY;UACxBC,KAAK,EAAE7E,IAAK;UACZ8E,QAAQ,EAAGC,CAAC,IAAK9E,OAAO,CAAC8E,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;UACzCpB,KAAK,EAAE;YAACU,UAAU,EAAC,OAAO;YAACD,MAAM,EAAC,gBAAgB;YAAER,OAAO,EAAC,UAAU;YAAEuB,YAAY,EAAC;UAAK;QAAE;UAAAtB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7F,CAAC,eACFxE,OAAA;UAAQ2E,OAAO,EAAErD,cAAe;UAAAuC,QAAA,EAAC;QAAQ;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/C,CACN;IAAA,eACD,CACH,EAEA5D,UAAU,IAAIR,IAAI,KAAK,MAAM,iBAC5BJ,OAAA,CAAAE,SAAA;MAAA2D,QAAA,eACE7D,OAAA;QAAKmE,KAAK,EAAE;UAACc,OAAO,EAAC,MAAM;UAAEC,aAAa,EAAC,QAAQ;UAAEE,UAAU,EAAC,QAAQ;UAACD,GAAG,EAAC,MAAM;UAAEf,OAAO,EAAC;QAAM,CAAE;QAAAP,QAAA,gBACnG7D,OAAA;UAAKmE,KAAK,EAAE;YAACc,OAAO,EAAC,MAAM;YAAEC,aAAa,EAAC,QAAQ;YAAEE,UAAU,EAAC;UAAQ,CAAE;UAAAvB,QAAA,gBACxE7D,OAAA;YAAImE,KAAK,EAAE;cAACO,KAAK,EAAC,OAAO;cAAEkB,UAAU,EAAC;YAAK,CAAE;YAAA/B,QAAA,EAAC;UAAa;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAChExE,OAAA;YAAImE,KAAK,EAAE;cAACO,KAAK,EAAC,OAAO;cAAEmB,SAAS,EAAC;YAAG,CAAE;YAAAhC,QAAA,GAAEjD,UAAU,CAACF,IAAI,EAAC,IAAE;UAAA;YAAA2D,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChE,CAAC,eACRxE,OAAA;UAAQ2E,OAAO,EAAEA,CAAA,KAAMtE,OAAO,CAAC,EAAE,CAAE;UAAC8D,KAAK,EAAE;YAACS,MAAM,EAAC,iBAAiB;YAAEF,KAAK,EAAC,OAAO;YAAEG,UAAU,EAAC,OAAO;YAAET,OAAO,EAAC,WAAW;YAAEH,KAAK,EAAC,KAAK;YAAEa,QAAQ,EAAC;UAAM,CAAE;UAAAjB,QAAA,EAAC;QAAU;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3K;IAAC,gBACN,CACH,EAEApE,IAAI,KAAK,UAAU,IAAI,CAACI,KAAK,iBAC5BR,OAAA;MAAQ2E,OAAO,EAAEA,CAAA,KAAMtE,OAAO,CAAC,EAAE,CAAE;MAAC8D,KAAK,EAAE;QAACS,MAAM,EAAC,uBAAuB;QAAEF,KAAK,EAAC,OAAO;QAAEG,UAAU,EAAC,OAAO;QAAET,OAAO,EAAC,WAAW;QAAEH,KAAK,EAAC,KAAK;QAAEa,QAAQ,EAAC;MAAM,CAAE;MAAAjB,QAAA,EAAC;IAAgB;MAAAQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAC5L;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAAClE,EAAA,CA5KIH,aAAa;AAAA2F,EAAA,GAAb3F,aAAa;AA8KnB,eAAeA,aAAa;AAAC,IAAA2F,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}