{"ast":null,"code":"var _jsxFileName = \"/Users/gowrisankara/Desktop/DL-PRO/FaceReg/client2/src/components/CameraCapture.js\",\n  _s = $RefreshSig$();\n// src/components/CameraCapture.js\n\nimport React, { useRef, useState } from 'react';\nimport Webcam from 'react-webcam';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CameraCapture = () => {\n  _s();\n  const webcamRef = useRef(null);\n  const [image, setImage] = useState(null);\n  const [name, setName] = useState('');\n  const capture = React.useCallback(() => {\n    const imageSrc = webcamRef.current.getScreenshot();\n    setImage(imageSrc);\n  }, [webcamRef]);\n  const handleUpload = async () => {\n    if (!image || !name) {\n      alert('Please capture an image and provide a name.');\n      return;\n    }\n    const formData = new FormData();\n    formData.append('file', dataURLtoFile(image, 'captured-image.jpg'));\n    formData.append('name', name);\n    try {\n      const response = await axios.post('http://localhost:5001/register_face', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      alert('Face registered successfully!');\n    } catch (error) {\n      console.error('Error uploading image:', error);\n      alert('Error registering face.');\n    }\n  };\n  const dataURLtoFile = (dataURL, filename) => {\n    const [header, data] = dataURL.split(',');\n    const mime = header.match(/:(.*?);/)[1];\n    const binary = atob(data);\n    const array = [];\n    for (let i = 0; i < binary.length; i++) {\n      array.push(binary.charCodeAt(i));\n    }\n    return new File([new Uint8Array(array)], filename, {\n      type: mime\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Webcam, {\n      audio: false,\n      ref: webcamRef,\n      screenshotFormat: \"image/jpeg\",\n      width: \"100%\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: capture,\n      children: \"Capture\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), image && /*#__PURE__*/_jsxDEV(\"img\", {\n      src: image,\n      alt: \"Captured\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter name\",\n      value: name,\n      onChange: e => setName(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleUpload,\n      children: \"Upload\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(CameraCapture, \"5p66QBXNzRYnKWIwLof1AA+rYf8=\");\n_c = CameraCapture;\nexport default CameraCapture;\nvar _c;\n$RefreshReg$(_c, \"CameraCapture\");","map":{"version":3,"names":["React","useRef","useState","Webcam","axios","jsxDEV","_jsxDEV","CameraCapture","_s","webcamRef","image","setImage","name","setName","capture","useCallback","imageSrc","current","getScreenshot","handleUpload","alert","formData","FormData","append","dataURLtoFile","response","post","headers","error","console","dataURL","filename","header","data","split","mime","match","binary","atob","array","i","length","push","charCodeAt","File","Uint8Array","type","children","audio","ref","screenshotFormat","width","fileName","_jsxFileName","lineNumber","columnNumber","onClick","src","alt","placeholder","value","onChange","e","target","_c","$RefreshReg$"],"sources":["/Users/gowrisankara/Desktop/DL-PRO/FaceReg/client2/src/components/CameraCapture.js"],"sourcesContent":["// src/components/CameraCapture.js\n\nimport React, { useRef, useState } from 'react';\nimport Webcam from 'react-webcam';\nimport axios from 'axios';\n\nconst CameraCapture = () => {\n  const webcamRef = useRef(null);\n  const [image, setImage] = useState(null);\n  const [name, setName] = useState('');\n\n  const capture = React.useCallback(() => {\n    const imageSrc = webcamRef.current.getScreenshot();\n    setImage(imageSrc);\n  }, [webcamRef]);\n\n  const handleUpload = async () => {\n    if (!image || !name) {\n      alert('Please capture an image and provide a name.');\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append('file', dataURLtoFile(image, 'captured-image.jpg'));\n    formData.append('name', name);\n\n    try {\n      const response = await axios.post('http://localhost:5001/register_face', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      alert('Face registered successfully!');\n    } catch (error) {\n      console.error('Error uploading image:', error);\n      alert('Error registering face.');\n    }\n  };\n\n  const dataURLtoFile = (dataURL, filename) => {\n    const [header, data] = dataURL.split(',');\n    const mime = header.match(/:(.*?);/)[1];\n    const binary = atob(data);\n    const array = [];\n    for (let i = 0; i < binary.length; i++) {\n      array.push(binary.charCodeAt(i));\n    }\n    return new File([new Uint8Array(array)], filename, { type: mime });\n  };\n\n  return (\n    <div>\n      <Webcam\n        audio={false}\n        ref={webcamRef}\n        screenshotFormat=\"image/jpeg\"\n        width=\"100%\"\n      />\n      <button onClick={capture}>Capture</button>\n      {image && <img src={image} alt=\"Captured\" />}\n      <input\n        type=\"text\"\n        placeholder=\"Enter name\"\n        value={name}\n        onChange={(e) => setName(e.target.value)}\n      />\n      <button onClick={handleUpload}>Upload</button>\n    </div>\n  );\n};\n\nexport default CameraCapture;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}